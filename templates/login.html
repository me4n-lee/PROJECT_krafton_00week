<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Login</title>
  </head>
  <body>
    <form id="login-form">
      <label for="id">ID:</label>
      <input type="text" id="id" name="id" required><br><br>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required><br><br>
      <button type="submit" name="login">Login</button>
      <button type="button" name="signup" onclick="location.href='/signup'">Sign Up</button>
    </form>
  </body>
  <div id="result"></div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
        $('#login-form').submit(function(event) {
            event.preventDefault();
            var id = $('#id').val();
            var password = $('#password').val();

            $.ajax({
                type: 'POST',
                url: '/api/login',
                data: {
                    id: id,
                    password: password
                },
                success: function(response) {
                    if (response['result'] == 'success') {
                        alert('로그인 성공!');
                        var redirect_url = response['redirect'];
                        window.location.href = redirect_url;
                    } else {
                        alert('로그인 실패!');
                    }
                },
                error: function(data) {
                    alert('서버 오류!');
                }
            });
        });
    });
  </script>
</html>