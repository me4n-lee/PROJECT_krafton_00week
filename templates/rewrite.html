<!DOCTYPE html>
<html>

<head>
    <title>WRITE</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        $(document).ready(function () {
            $('#b_category').on('change', function () {
                if ($(this).val() === 'category1') {
                    $("#post-category").prop('disabled', false);
                    $("#post-category").html('<option value="HTML">HTML</option><option value="CSS">CSS</option><option value="JAVASCRIPT">JAVASCRIPT</option>');
                } else if ($(this).val() === 'category2') {
                    $("#post-category").prop('disabled', false);
                    $("#post-category").html('<option value="PYTHON">PYTHON</option><option value="JAVA">JAVA</option><option value="JSP">JSP</option>');
                } else if ($(this).val() === 'category3') {
                    $("#post-category").prop('disabled', false);
                    $("#post-category").html('<option value="FLASK">FLASK</option>');
                } else if ($(this).val() === 'category4') {
                    $("#post-category").prop('disabled', false);
                    $("#post-category").html('<option value="MONGODB">MONGODB</option>');
                } else {
                    $("#post-category").prop('disabled', true);
                    $("#post-category").html('<option value=""></option>');
                }
            });
        });
    </script>
</head>

<body class = "bg-black flex justify-center items-center h-screen">
    <div class="bg-gray-300 w-[800px] h-[720px] mx-auto px-[20px] pt-5 rounded-lg shadow-lg" style="box-shadow: 0 10px 20px rgba(130, 130, 130, 0.3), /* 위 */
    0 -10px 20px rgba(130, 130, 130, 0.3), /* 아래 */
    -10px 0 20px rgba(130, 130, 130, 0.3), /* 왼쪽 */
    10px 0 20px rgba(130, 130, 130, 0.3) /* 오른쪽 */">
        <form action="/api/update_article?id={{ article['id'] }}" method="post">
            <main>
                <label for="b_category" class="text-2xl mb-[10px] font-bold block">Category</label>
                <select id="b_category" name="b_category" class="h-10 rounded mb-[20px] indent-3 w-1/4">
                    <option value="category0">카테고리 선택</option>
                    <option value="category1">프론트엔드</option>
                    <option value="category2">백엔드</option>
                    <option value="category3">서버</option>
                    <option value="category4">데이터베이스</option>
                </select>
                <select name="category" id="post-category" disabled class="h-10 rounded mb-[20px] indent-3 w-2/5">
                    <option value=""></option>
                </select>
                <label for="title" class="text-2xl mb-[10px] font-bold block">Title</label>
                <input type="text" id="post-title" name="title" class="h-10 w-4/5 rounded mb-[20px] indent-3"
                    value="{{ article['title'] }}" placeholder="강의 혹은 책의 제목을 입력해주세요.">
                <label for="url" class="text-2xl mb-[10px] font-bold block">URL</label>
                <input type="text" id="post-url" name="url" class="h-10 w-4/5 rounded mb-[20px] indent-3"
                    value="{{ article['url'] }}" placeholder="URL을 입력해주세요.">
                <label for="content" class="text-2xl mb-[10px] font-bold block">Content</label>
                <textarea id="post-content" name="content" rows="5" cols="40"
                    class="h-[250px] w-full rounded mb-[13px] indent-3 resize-none pt-[10px]"
                    placeholder="이 게시글을 추천하는 이유 혹은 내용 요약">{{ article['content'] }}</textarea>
                <div class="flex justify-between mx-[120px]">
                    <button type="submit" name="confirm" onclick="post_article()"
                        class="text-xl bg-green-400 w-[140px] h-[40px] rounded-lg font-bold">Confirm</button>
                    <button type="submit" name="cancel" onclick="location.href='/home'"
                        class="text-xl bg-gray-400 w-[140px] h-[40px] rounded-lg font-bold">Cancel</button>
                </div>
            </main>
        </form>
    </div>
</body>

</html>